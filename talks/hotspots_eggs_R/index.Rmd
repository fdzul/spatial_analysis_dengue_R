---
title: "Hotspots del Vector del Dengue"
author: "Felipe Antonio Dzul Manzanilla"
date: '2022: Last compiled `r Sys.Date()`'
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: 
      - default
      - default-fonts
      - duke-blue
      - hygge-duke
      - libs/cc-fonts.css
      - libs/figure-captions.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

class: left, top

```{r xaringan-fit-screen, echo=FALSE}
xaringanExtra::use_fit_screen()
```

```{r xaringanExtra, echo = FALSE}
xaringanExtra::use_progress_bar(color = "#0051BA", location = "top")
```

```{r xaringan-tachyons, echo=FALSE}
xaringanExtra::use_tachyons()
```

```{r share-again, echo=FALSE}
xaringanExtra::use_share_again()
```

```{r xaringan-logo, echo=FALSE}
xaringanExtra::use_logo(
  image_url = "https://www.gob.mx/cms/uploads/action_program/main_image/26942/post_post_portadavectores.gif",
  width = "110px",
  height = "228px",
  position = xaringanExtra::css_position(top = "1em", right = "1em")
)
```

# Conceptos $\color{#2ECC40}s_{\color{#2ECC40}i}$, $\color{#2ECC40}D$, & $\color{#2ECC40}u_{\color{#2ECC40}{si}}$
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">

```{r echo=FALSE, warning=FALSE, message=FALSE,out.height="100%", out.width="80%",fig.align='center'}
# Step 1. create the function for extract the locality 
extract_locality <- function(cve_edo, locality){
    rgeomex::loc_inegi19_mx |>
        dplyr::filter(CVE_ENT %in% c(cve_edo)) |>
        dplyr::filter(NOMGEO %in% c(rgeomex::find_most_similar_string(locality, unique(NOMGEO)))) |>
        sf::st_make_valid()
}

# step 2. extract the locality ####
aca <- extract_locality(cve_edo = "12",
                         locality = "Acapulco de Juárez")

# Step 3. Generate the points ####
x <- sf::st_sample(x = aca,
                   size = 30,
                   type = "regular") |>
    sf::st_set_crs(value = 4326) |>
    sf::st_as_sf() |>
    dplyr::mutate(id = paste("s", 1:length(x), sep = ""))

ggplot2::ggplot() +
    ggplot2::geom_sf(data = aca,
                     alpha = 0.5,
                     fill = "gray85") +
    cowplot::theme_map() +
    ggplot2::geom_sf(data = x,
                     color = "#36C5F0",
                     size = 3) +
    ggplot2::geom_sf_text(data = x, 
                          ggplot2::aes(label = id),
                          size = 4,
                          nudge_x = 0.009,
                          nudge_y = 0.001,
                          color = "#2EB67D")
```



.blue[.footnote[$$μ{_i} = \beta{_0} + u{_i}$$
$$μ{_i} ~ GF(mean = 0, var = \sum)$$]]

---
# Análysis Geoestadístico de Ovitrampas
## Definición de argumentos.

```{r echo=FALSE}
tibble::tibble(argumento = c("path_lect", "path_coord", "year","locality",  "cve_ent",
                             "leg_title", "fam", "alpha", "plot", "aproximation"),
    definicion = c("Ruta de ovitrampas", "Ruta de la coordenadas", "Año a analizar", "localidad", "Clave del Estado",
                   "Título de la leyenda", "Nombre de la Distribución", "Nivel de Significancia", "Valor lógico para visualizar el mesh", "Es el método de aproximación para calcular los hiperparametros y valores marginales. Las opciones son gaussian, simplified.laplace & laplace")) |>
    kableExtra::kable() |>
    kableExtra::kable_classic()
```

---
# Análysis Geoestadístico de Ovitrampas
## Definición de argumentos.

```{r echo=FALSE}
tibble::tibble(argumento = c("integration", "longitude", "latitude", "k", "sem", "var",
                             "cell_size", "palette_vir", "hist_dataset"),
    definicion = c("Es la estrategia de integración. Las opciones son grid, eb & ccd)",
                   "Coordenada geográfica (longitud)", "Coordenada geográfica (latitud)", "es un parametro pera definir los triangules exteriores e interiores",
                   "Es la semana epidemiológica",
                   "Es la variable de interes",
                   "Es el tamaño de muestra para predecir",
                   "es la paleta de viridis. Las opciones son magma, inferno, plasma & viridis",
                   "Es un valor lógico para definir las bases históricas (FALSE) ó la actual base de ovitrampas(FALSE)")) |>
    kableExtra::kable() |>
    kableExtra::kable_classic()
```

---
# Dios Botic!
<hr style="height:2px;border-width:0;color:#330019;background-color:#330019">
&nbsp;

- ***Bio*** : https://fdzul.github.io/web_site_fadm/

- ***email***       :     [felipe.dzul.m@gmail.com]()

- ***celular***     :     [8139945623]()

- ***slides***:     https://animated-longma-729cee.netlify.app/talks/hotspots_cases_R/#1





.footnote[La presentación fue creada via [**xaringan**](https://github.com/yihui/xaringan),
[**revealjs**](https://revealjs.com/),
[remark.js](https://remarkjs.com), [**knitr**](http://yihui.name/knitr),
& [R Markdown](https://rmarkdown.rstudio.com) en [R]() & [RStudio](2.R_Scripts/libs/rstudio_leaflet/rstudio_leaflet.css).]